# SloTax ETF Manager

A standalone desktop application (GUI) for Windows, designed to help users manage their stock/ETF transactions, calculate capital gains tax according to Slovenian FIFO (First-In, First-Out) rules, and export the necessary data to an XML file for eDavki (Slovenian tax filing system).

## ‚ú® Features

*   **Manual Transaction Entry:** Easily add "Nakup" (Buy) or "Prodaja" (Sell) transactions with date, ticker, quantity, price per unit, and associated costs.
*   **Data Persistence:** All transactions are automatically saved to a local `portfolio.json` file, ensuring your data is preserved across sessions.
*   **Intuitive UI:** A clean and easy-to-use interface built with `tkinter`'s `ttk` widgets.
*   **FIFO Tax Calculation:** Implements the First-In, First-Out method to correctly match sales with purchases, calculating capital gains or losses for tax purposes.
*   **eDavki XML Export:** Generates an XML file (`Doh-KDVP` schema) compliant with Slovenian tax requirements, ready for filing.
*   **CSV Backup:** Export all your transactions to a CSV file for personal record-keeping or backup.
*   **Real-time Feedback:** A status bar provides immediate feedback on actions and potential errors.

## üñ•Ô∏è UI Layout Overview

The application is divided into three main panels:

1.  **Left Panel (Input):** For entering new transaction details.
    *   Date (DD.MM.YYYY)
    *   Type ("Nakup" / "Prodaja")
    *   Ticker (e.g., VWCE)
    *   Quantity
    *   Price per Unit (‚Ç¨)
    *   Costs (‚Ç¨)
    *   "Dodaj Transakcijo" (Add Transaction) button

2.  **Right Panel (View):** Displays all historical transactions in a `Treeview` table.
    *   Columns: Datum, Tip, Ticker, Koliƒçina, Cena/enoto, Stro≈°ki, Skupna Vrednost (‚Ç¨)
    *   "Zbri≈°i Izbrano" (Delete Selected) button to remove transactions.

3.  **Bottom Panel (Actions & Status):**
    *   "Izvozi CSV" (Export CSV) button for data backup.
    *   "Ustvari XML za eDavke" (Create XML for eDavki) button to generate the tax report.
    *   A Status Bar to show messages (e.g., success, error, loading).

## üöÄ Getting Started

### Tech Stack

*   **Language:** Python 3.x
*   **GUI:** `tkinter` (native, using `ttk` for a modern look)
*   **Data Storage:** `json` (local file `portfolio.json`)
*   **XML Generation:** Standard Python `xml.etree.ElementTree` and `xml.dom.minidom`

### Installation

Please refer to the detailed `INSTALL.md` file for step-by-step instructions on how to install and run the application.

### How to Use

1.  **Adding Transactions:**
    *   Enter the Date (DD.MM.YYYY), select Type, enter Ticker, Quantity, Price per Unit, and Costs in the left panel.
    *   Click "Dodaj Transakcijo". The transaction will appear in the table on the right.

2.  **Deleting Transactions:**
    *   Select one or more transactions in the table on the right.
    *   Click "Zbri≈°i Izbrano". Confirm your choice.

3.  **Exporting Data:**
    *   **CSV Backup:** Click "Izvozi CSV" to save all your transactions to a CSV file.
    *   **XML for eDavki:** Click "Ustvari XML za eDavke". The application will process your transactions using FIFO rules and prompt you to save the generated XML file (`Doh-KDVP.xml`).

4.  **Status Bar:** Keep an eye on the bottom status bar for messages regarding your actions.

## üìÅ Project Files

*   `SloTax_ETF_Manager.py`: The main Python script containing the entire application logic and GUI.
*   `portfolio.json`: (Automatically created) This file stores all your transaction data. It's in a human-readable JSON format.
*   `Doh-KDVP.xml`: (Generated by the app) The XML output file suitable for eDavki tax filing.
*   `requirements.txt`: Lists Python dependencies. (It's empty as only standard libraries are used).
*   `INSTALL.md`: Provides detailed installation and running instructions.
*   `README.md`: This file, providing an overview of the project.

## ‚ö†Ô∏è Disclaimer

This application is provided as a tool to assist with tax calculations and reporting. While efforts have been made to adhere to Slovenian FIFO rules and eDavki XML schema, it is crucial that you **verify all generated data** with a qualified tax advisor or the official tax authority guidelines before filing. The developer is not responsible for any inaccuracies or tax liabilities arising from the use of this software.

## üìÑ License

This project is licensed under the MIT License - see the LICENSE.md file for details. (Note: A `LICENSE.md` file has not been created yet, but this is a common placeholder.)
